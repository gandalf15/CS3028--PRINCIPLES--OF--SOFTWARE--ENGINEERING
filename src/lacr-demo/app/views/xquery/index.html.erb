<div class="container">
  <h1>Enter Query</h1>
  <%= render "xquery/search_form" %>
  <h3>How do I use XQuery?</h3><br>
  <a href="https://www.w3schools.com/xml/xquery_intro.asp" target="_blank">A helpful guide on XQuery provided by w3schools</a><br>
  <a href="https://en.wikibooks.org/wiki/XQuery#Example_Scripts" target="_blank">Comprehensive examples provided by wikibooks</a>

  <br>
  <br>

  <h1 align ="center">XQuery examples</h1>
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-4">
            <h2>Search for element</h2>
            <p>XPath can be used to return all elements of with specific language</p>
            <pre>//ns:div[@xml:lang="lat"]</pre>
            <ul>
              <li><code>//</code> Selects nodes that match the selection no matter where they are.</li>
             <li><code>ns:</code> Is used to specify the HisTEI namespace.</li>
             <li><code>div </code> Selects all div elements.</li>
             <li><code>@xml:lang </code> Specifies the the requirement to have an attribute named xml:lang <i>(language)</i>.</li>
             <li><code>="lat"</code> Specifies language as Latin.</li>
            </ul>
          </div>
          <div class="col-md-4">
            <h2>Specify date in query</h2>
            <p>XQuery expression to filter the results by criteria such as date</p>
            <pre>for $i in //ns:div[@xml:lang="lat"]<br>where $i/ancestor::ns:div//ns:date[@when="1501-10-20"]<br>return $i</pre>
            <ul>
              <li><code>for $i in //ns:div[@xml:lang="lat"]</code> Starts a loop which iterates trough each result from the <i><b>Search for element</b></i> query.</li>
             <li><code>where $i/ancestor::ns:div//ns:date[@when="1501-10-20"]</code> the elements can be filtered by specifing criteria. In this instance the date being "1501-10-20"</li>
             <li><code>return $i</code> if a element matches the date 1501-10-20, it will shown as result on the result page.</li>
           </ul>
         </div>
         <div class="col-md-4">
            <h2>Specify year ranges</h2>
            <p>Search through time period by using regular expressions</p>
            <pre>for $i in //ns:div[@xml:lang="lat"]<br>where matches($i/ancestor::ns:div//ns:date/@when, "1501")<br>return $i</pre>
            <ul>
             <li><code>where matches($i/ancestor::ns:div[1]//ns:date/@when, "1501") </code>
               Simmilar to <i><b>Specify a year in query</b></i> where the results are filtered by only a specific date in this instance the date filtered using regular expression <b>1501</b>.
            </ul>
            <p>An alternative could be</p>
            <pre>for $i in //ns:div[@xml:lang="lat"]<br>where $i/ancestor::ns:div//ns:date[@when >"1501-1-1"][@when <"1502-12-31"]<br>return $i</pre>

         </div>
        </div>
      </div>

  <br>



























</div>
